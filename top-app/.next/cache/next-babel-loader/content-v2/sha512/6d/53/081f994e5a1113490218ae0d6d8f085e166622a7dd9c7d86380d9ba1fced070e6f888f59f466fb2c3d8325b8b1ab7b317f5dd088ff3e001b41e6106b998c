{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport axios from \"axios\";\nimport { withLayout } from \"../../layout/Layout\";\nimport { firstLevelMenu } from \"../../helpers/helpers\";\n\nfunction Type({\n  firstCategory\n}) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"Type: \", firstCategory]\n  }, void 0, true);\n}\n\nexport default withLayout(Type);\nexport const getStaticPaths = async () => {\n  return {\n    paths: firstLevelMenu.map(m => '/' + m.route),\n    fallback: true\n  };\n};\nexport const getStaticProps = async ({\n  params\n}) => {\n  if (!params) {\n    return {\n      notFound: true\n    };\n  }\n\n  const firstCategoryItem = firstLevelMenu.find(m => m.route == params.type);\n\n  if (!firstCategoryItem) {\n    return {\n      notFound: true\n    };\n  }\n\n  const {\n    data: menu\n  } = await axios.post(process.env.NEXT_PUBLIC_DOMAIN + \"/api/top-page/find\", {\n    firstCategory: firstCategoryItem.id\n  });\n  return {\n    props: {\n      menu,\n      firstCategory: firstCategoryItem.id\n    }\n  };\n};","map":{"version":3,"sources":["C:/Users/ccccc/Desktop/home__projects/top-app/pages/[type]/index.tsx"],"names":["axios","withLayout","firstLevelMenu","Type","firstCategory","getStaticPaths","paths","map","m","route","fallback","getStaticProps","params","notFound","firstCategoryItem","find","type","data","menu","post","process","env","NEXT_PUBLIC_DOMAIN","id","props"],"mappings":";;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,qBAA3B;AAEA,SAASC,cAAT,QAA+B,uBAA/B;;AAGA,SAASC,IAAT,CAAe;AAAEC,EAAAA;AAAF,CAAf,EAA0D;AACzD,sBACC;AAAA,yBACSA,aADT;AAAA,kBADD;AAKA;;AAED,eAAeH,UAAU,CAACE,IAAD,CAAzB;AAEA,OAAO,MAAME,cAA8B,GAAG,YAAY;AACzD,SAAO;AACNC,IAAAA,KAAK,EAAEJ,cAAc,CAACK,GAAf,CAAmBC,CAAC,IAAI,MAAMA,CAAC,CAACC,KAAhC,CADD;AAENC,IAAAA,QAAQ,EAAE;AAFJ,GAAP;AAIA,CALM;AAOP,OAAO,MAAMC,cAAyC,GAAG,OAAO;AAAEC,EAAAA;AAAF,CAAP,KAA6D;AACrH,MAAG,CAACA,MAAJ,EAAY;AACL,WAAO;AACHC,MAAAA,QAAQ,EAAE;AADP,KAAP;AAGH;;AAED,QAAMC,iBAAiB,GAAGZ,cAAc,CAACa,IAAf,CAAoBP,CAAC,IAAIA,CAAC,CAACC,KAAF,IAAWG,MAAM,CAACI,IAA3C,CAA1B;;AACA,MAAG,CAACF,iBAAJ,EAAuB;AACnB,WAAO;AACHD,MAAAA,QAAQ,EAAE;AADP,KAAP;AAGH;;AAED,QAAM;AAAEI,IAAAA,IAAI,EAAEC;AAAR,MAAiB,MAAMlB,KAAK,CAACmB,IAAN,CAC/BC,OAAO,CAACC,GAAR,CAAYC,kBAAZ,GAAiC,oBADF,EAE/B;AACClB,IAAAA,aAAa,EAAEU,iBAAiB,CAACS;AADlC,GAF+B,CAA7B;AAMH,SAAO;AACNC,IAAAA,KAAK,EAAE;AACNN,MAAAA,IADM;AAENd,MAAAA,aAAa,EAAEU,iBAAiB,CAACS;AAF3B;AADD,GAAP;AAMA,CA1BM","sourcesContent":["import { GetStaticPaths, GetStaticProps, GetStaticPropsContext } from \"next\";\r\nimport axios from \"axios\";\r\nimport { withLayout } from \"../../layout/Layout\";\r\nimport { MenuItem } from \"../../interfaces/menu.inteface\";\r\nimport { firstLevelMenu } from \"../../helpers/helpers\";\r\nimport { ParsedUrlQuery } from \"querystring\";\r\n\r\nfunction Type( { firstCategory }:TypeProps ): JSX.Element {\r\n\treturn (\r\n\t\t<>\r\n\t\t\tType: { firstCategory }\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default withLayout(Type);\r\n\r\nexport const getStaticPaths: GetStaticPaths = async () => {\r\n\treturn {\r\n\t\tpaths: firstLevelMenu.map(m => '/' + m.route),\r\n\t\tfallback: true,\r\n\t}\r\n}\r\n\r\nexport const getStaticProps: GetStaticProps<TypeProps> = async ({ params }: GetStaticPropsContext<ParsedUrlQuery>) => {\r\n\tif(!params) {\r\n        return {\r\n            notFound: true\r\n        }\r\n    }\r\n\r\n    const firstCategoryItem = firstLevelMenu.find(m => m.route == params.type)\r\n    if(!firstCategoryItem) {\r\n        return {\r\n            notFound: true\r\n        }\r\n    }\r\n    \r\n    const { data: menu } = await axios.post<MenuItem[]>(\r\n\t\tprocess.env.NEXT_PUBLIC_DOMAIN + \"/api/top-page/find\",\r\n\t\t{\r\n\t\t\tfirstCategory: firstCategoryItem.id\r\n\t\t},\r\n\t);\r\n\treturn {\r\n\t\tprops: {\r\n\t\t\tmenu,\r\n\t\t\tfirstCategory: firstCategoryItem.id\r\n\t\t},\r\n\t};\r\n};\r\n\r\ninterface TypeProps extends Record<string, unknown> {\r\n\tmenu: MenuItem[];\r\n\tfirstCategory: number;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}