{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React from \"react\";\nimport { withLayout } from \"../../layout/Layout\";\nimport axios from \"axios\";\nimport { firstLevelMenu } from \"../../helpers/helpers\";\nconst firstCategory = 0;\n\nfunction Course({\n  page,\n  products\n}) {\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: products && products.length\n  });\n}\n\nexport default withLayout(Course);\nexport const getStaticPaths = async () => {\n  let paths = [];\n\n  for (const m of firstLevelMenu) {\n    const {\n      data: menu\n    } = await axios.post(process.env.NEXT_PUBLIC_DOMAIN + \"/api/top-page/find\", {\n      firstCategory: m.id\n    });\n    paths = paths.concat(menu.flatMap(s => s.pages.map(p => `/${m.route}/${p.alias}`)));\n  }\n\n  return {\n    paths,\n    fallback: true\n  };\n};\nexport const getStaticProps = async ({\n  params\n}) => {\n  if (!params) {\n    return {\n      notFound: true\n    };\n  }\n\n  const firstCategoryItem = firstLevelMenu.find(m => m.route == params.type);\n\n  if (!firstCategoryItem) {\n    return {\n      notFound: true\n    };\n  }\n\n  const {\n    data: menu\n  } = await axios.post(process.env.NEXT_PUBLIC_DOMAIN + \"/api/top-page/find\", {\n    firstCategory: firstCategoryItem.id\n  });\n  const {\n    data: page\n  } = await axios.get(process.env.NEXT_PUBLIC_DOMAIN + \"/api/top-page/byAlias/\" + params.alias);\n  const {\n    data: products\n  } = await axios.post(process.env.NEXT_PUBLIC_DOMAIN + \"/api/product/find\", {\n    category: page.category,\n    limit: 10\n  });\n  return {\n    props: {\n      menu,\n      firstCategory: firstCategoryItem.id,\n      page,\n      products\n    }\n  };\n};","map":null,"metadata":{},"sourceType":"module"}