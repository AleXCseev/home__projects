{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport axios from \"axios\";\nimport { withLayout } from \"../../layout/Layout\";\nimport { firstLevelMenu } from \"../../helpers/helpers\";\nimport { API } from \"../../helpers/api\";\n\nfunction Type({\n  firstCategory\n}) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"Type: \", firstCategory]\n  }, void 0, true);\n}\n\nexport default withLayout(Type);\nexport const getStaticPaths = async () => {\n  return {\n    paths: firstLevelMenu.map(m => '/' + m.route),\n    fallback: true\n  };\n};\nexport const getStaticProps = async ({\n  params\n}) => {\n  if (!params) {\n    return {\n      notFound: true\n    };\n  }\n\n  const firstCategoryItem = firstLevelMenu.find(m => m.route == params.type);\n\n  if (!firstCategoryItem) {\n    return {\n      notFound: true\n    };\n  }\n\n  const {\n    data: menu\n  } = await axios.post(API.topPage.find, {\n    firstCategory: firstCategoryItem.id\n  });\n  return {\n    props: {\n      menu,\n      firstCategory: firstCategoryItem.id\n    }\n  };\n};","map":{"version":3,"sources":["/Users/konstantinalekseev/Desktop/home__projects/top-app/pages/[type]/index.tsx"],"names":["axios","withLayout","firstLevelMenu","API","Type","firstCategory","getStaticPaths","paths","map","m","route","fallback","getStaticProps","params","notFound","firstCategoryItem","find","type","data","menu","post","topPage","id","props"],"mappings":";;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,qBAA3B;AAEA,SAASC,cAAT,QAA+B,uBAA/B;AAEA,SAASC,GAAT,QAAoB,mBAApB;;AAEA,SAASC,IAAT,CAAe;AAAEC,EAAAA;AAAF,CAAf,EAA0D;AACzD,sBACC;AAAA,yBACSA,aADT;AAAA,kBADD;AAKA;;AAED,eAAeJ,UAAU,CAACG,IAAD,CAAzB;AAEA,OAAO,MAAME,cAA8B,GAAG,YAAY;AACzD,SAAO;AACNC,IAAAA,KAAK,EAAEL,cAAc,CAACM,GAAf,CAAmBC,CAAC,IAAI,MAAMA,CAAC,CAACC,KAAhC,CADD;AAENC,IAAAA,QAAQ,EAAE;AAFJ,GAAP;AAIA,CALM;AAOP,OAAO,MAAMC,cAAyC,GAAG,OAAO;AAAEC,EAAAA;AAAF,CAAP,KAA6D;AACrH,MAAG,CAACA,MAAJ,EAAY;AACL,WAAO;AACHC,MAAAA,QAAQ,EAAE;AADP,KAAP;AAGH;;AAED,QAAMC,iBAAiB,GAAGb,cAAc,CAACc,IAAf,CAAoBP,CAAC,IAAIA,CAAC,CAACC,KAAF,IAAWG,MAAM,CAACI,IAA3C,CAA1B;;AACA,MAAG,CAACF,iBAAJ,EAAuB;AACnB,WAAO;AACHD,MAAAA,QAAQ,EAAE;AADP,KAAP;AAGH;;AAED,QAAM;AAAEI,IAAAA,IAAI,EAAEC;AAAR,MAAiB,MAAMnB,KAAK,CAACoB,IAAN,CAC/BjB,GAAG,CAACkB,OAAJ,CAAYL,IADmB,EAE/B;AACCX,IAAAA,aAAa,EAAEU,iBAAiB,CAACO;AADlC,GAF+B,CAA7B;AAMH,SAAO;AACNC,IAAAA,KAAK,EAAE;AACNJ,MAAAA,IADM;AAENd,MAAAA,aAAa,EAAEU,iBAAiB,CAACO;AAF3B;AADD,GAAP;AAMA,CA1BM","sourcesContent":["import { GetStaticPaths, GetStaticProps, GetStaticPropsContext } from \"next\";\nimport axios from \"axios\";\nimport { withLayout } from \"../../layout/Layout\";\nimport { MenuItem } from \"../../interfaces/menu.inteface\";\nimport { firstLevelMenu } from \"../../helpers/helpers\";\nimport { ParsedUrlQuery } from \"querystring\";\nimport { API } from \"../../helpers/api\";\n\nfunction Type( { firstCategory }:TypeProps ): JSX.Element {\n\treturn (\n\t\t<>\n\t\t\tType: { firstCategory }\n\t\t</>\n\t);\n}\n\nexport default withLayout(Type);\n\nexport const getStaticPaths: GetStaticPaths = async () => {\n\treturn {\n\t\tpaths: firstLevelMenu.map(m => '/' + m.route),\n\t\tfallback: true,\n\t}\n}\n\nexport const getStaticProps: GetStaticProps<TypeProps> = async ({ params }: GetStaticPropsContext<ParsedUrlQuery>) => {\n\tif(!params) {\n        return {\n            notFound: true\n        }\n    }\n\n    const firstCategoryItem = firstLevelMenu.find(m => m.route == params.type)\n    if(!firstCategoryItem) {\n        return {\n            notFound: true\n        }\n    }\n    \n    const { data: menu } = await axios.post<MenuItem[]>(\n\t\tAPI.topPage.find,\n\t\t{\n\t\t\tfirstCategory: firstCategoryItem.id\n\t\t},\n\t);\n\treturn {\n\t\tprops: {\n\t\t\tmenu,\n\t\t\tfirstCategory: firstCategoryItem.id\n\t\t},\n\t};\n};\n\ninterface TypeProps extends Record<string, unknown> {\n\tmenu: MenuItem[];\n\tfirstCategory: number;\n}\n"]},"metadata":{},"sourceType":"module"}